
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutHome.cshtml";

}
<body onload="inicialar()">
    <div class="row">

        @if (Session["usuarioTipo"] != null)
        {

            <p>tipo de usuario: </p>
            @Session["usuarioTipo"].ToString();
            <br>
            <p>ID de usuario: </p>
            @Session["usuarioId"].ToString();
            <br>
            <p>nombre de usuario: </p>
            @Session["usuarioNombre"].ToString();

        }
    </div>


    <style>
        #map-canvas {
            width: 100%;
            height: 400px;
            background-color: grey;
        }
    </style>

    <div class="jumbotron">

            <input type="text" class="form-control" id="pac-input" placeholder="Buscar Direccion" />
        <br />

        <div class="row">
            <div id="map-canvas"></div>
        </div>

    </div>


    @* ------------------ MAPA ------------------------------------- *@

        <script>


            function inicialar() {

                var mapCanvas = document.getElementById('map-canvas');
                var mapOptions = {
                    center: new google.maps.LatLng(-34.6290089, -58.4071996),
                    zoom: 12,
                    //mapTypeId: google.maps.MapTypeId.G_NORMAL_MAP
                }

                var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);



                   var data = [
                       { "Id": 1, "PlaceName": "Casa Rosada Restaurant", "GeoLong": "-34.6080556", "GeoLat": "-58.3702778" },
                       { "Id": 2, "PlaceName": "McDonalds", "GeoLong": "-34.6088308783192", "GeoLat": "-58.37559700012207" },
                       { "Id": 3, "PlaceName": "Museo del Jamon", "GeoLong": "-34.6083363769076", "GeoLat": "-58.38213086128235" },

                   ];

                $.each(data, function (i, item) {
                    var marker = new google.maps.Marker({
                        'position': new google.maps.LatLng(item.GeoLong, item.GeoLat),
                        'map': map,
                        'title': item.PlaceName
                    });

                    marker.setIcon('http://maps.google.com/mapfiles/ms/icons/blue-dot.png')

                    var infowindow = new google.maps.InfoWindow({
                        content: "<div class='infoDiv'><h3>" + item.PlaceName + "</div></div>"
                    });

                    google.maps.event.addListener(marker, 'click', function () {
                        infowindow.open(map, marker);
                    });

                })

            }   


        </script>
    <script src='http://maps.google.com/maps/api/js?key=AIzaSyCj0UbeSz2p0umVfycFjdqHJSKAS_cdLog&sensor=false&libraries=places' type="text/javascript"></script>

    

</body>